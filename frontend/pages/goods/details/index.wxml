<view class="goods-detail-page">
  <view class="goods-head">
    <t-swiper wx:if="{{details.images.length > 0}}" height="750rpx" current="{{current}}" autoplay="{{autoplay}}" duration="{{duration}}" interval="{{interval}}" navigation="{{navigation}}" list="{{details.images}}"></t-swiper>
    <view class="goods-info">
      <view class="goods-title">
        <view class="goods-name">{{details.title}}</view>
        <view class="navigate-btn">
          <view class="navigate-btn">
            <t-button t-class="navBtn" theme="primary" shape="round" bind:tap="onNavigateButtonTap">
              <view class="btn-icon">
                <view class="nav-text">Ask For Help</view>
              </view>
            </t-button>
          </view>
        </view>
        <view class="goods-tag">
          <t-button open-type="share" t-class="shareBtn" variant="text">
            <view class="btn-icon">
              <t-icon name="share" size="40rpx" color="#000" />
              <view class="share-text">share</view>
            </view>
          </t-button>
        </view>
      </view>
      <view class="goods-description">{{details.description}}</view>
      <view class="goods-intro">{{intro}}</view>
    </view>

    <view wx:if="{{ commentsStatistics.commentCount > 0 }}" class="comments-wrap">
      <view class="comments-head" bindtap="navToCommentsListPage">
        <view class="comments-title-wrap">
          <view class="comments-title-label">comments</view>
          <view class="comments-title-count"> ({{ commentsStatistics.commentCount }}) </view>
        </view>
        <view class="comments-rate-wrap">
          <view class="comments-good-rate">{{commentsStatistics.goodRate}}%good</view>
          <t-icon name="chevron-right" size="40rpx" color="#BBBBBB" />
        </view>
      </view>
      <view class="comment-item-wrap" wx:for="{{ commentsList }}" wx:for-item="commentItem" wx:key="goodsSpu">
        <view class="comment-item-head">
          <t-image src="{{commentItem.userHeadUrl}}" t-class="comment-item-avatar" />
          <view class="comment-head-right">
            <view class="comment-username">{{commentItem.userName}}</view>
            <t-rate value="{{ commentItem.commentScore }}" count="{{5}}" size="12" gap="2" color="{{['#ffc51c', '#ddd']}}" />
          </view>
        </view>
        <view class="comment-item-content"> {{commentItem.commentContent}} </view>
      </view>
    </view>
  </view>
  <view class="add-comment-btn-wrap">
    <t-button bindtap="goToCreateComment" t-class="addCommentBtn" variant="outline">
      <view class="btn-icon">
        <t-icon name="edit" size="50rpx" color="#000" />
        <view class="add-comment-text">Write a comment</view>
      </view>
    </t-button>
  </view>
</view>
<t-toast id="t-toast" />